(()=>{var e={};e.id=853,e.ids=[853,888],e.modules={373:e=>{e.exports={pagiContainer:"additem_pagiContainer__Al43Z",submitContainer:"additem_submitContainer__OmHwU",submitTitle:"additem_submitTitle__PEq1Z",btnSubmit:"additem_btnSubmit__p1lmo",inputContainer:"additem_inputContainer__4ehAK",inputTitle:"additem_inputTitle__iZ7L3",previewContainer:"additem_previewContainer__wsKG4",coverTile:"additem_coverTile__gs1kb",fileBox:"additem_fileBox__k7oh1",cover:"additem_cover__v7POD",imgUpload:"additem_imgUpload__0zU02",btnImgUpload:"additem_btnImgUpload__5Jscd",tagContainer:"additem_tagContainer__zv1Ep",circle:"additem_circle__03sdK",thumbnail:"additem_thumbnail__LesYS",warnMessage:"additem_warnMessage__zZPEb"}},6712:(e,t,a)=>{"use strict";a.r(t),a.d(t,{config:()=>N,default:()=>b,getServerSideProps:()=>S,getStaticPaths:()=>C,getStaticProps:()=>f,reportWebVitals:()=>w,routeModule:()=>U,unstable_getServerProps:()=>T,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>E,unstable_getStaticPaths:()=>k,unstable_getStaticProps:()=>P});var i,n,r={};a.r(r),a.d(r,{default:()=>additem});var s=a(7093),l=a(5244),d=a(1323),c=a(1207),u=a(4822),o=a(997),p=a(968),m=a.n(p),g=a(1426),h=a(6689),_=a(373),x=a.n(_);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(null,arguments)}let cancel=function(e){return h.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:10,height:10,fill:"none"},e),i||(i=h.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:1.8,d:"m1.08 1 8 8M9 1 1 9"})))},additem_InputContainer=function({setValues:e}){let[t,a]=(0,h.useState)(""),[i,n]=(0,h.useState)([]),[r,s]=(0,h.useState)(""),[l,d]=(0,h.useState)(0),c=(0,h.useRef)(null);(0,h.useEffect)(()=>{if("string"==typeof r){let e=r.replace(/,/g,"");d(Number(e))}c.current&&""===c.current.value&&d(0),e(e=>({...e,price:l}))},[r,l,e]);let handleChange=(t,a)=>{e(e=>({...e,[t]:a}))},handleInputChange=e=>{let{name:t,value:a}=e.target;handleChange(t,a)},changeEnteredNum=e=>{let t=e.target.value,a=Number(t.replaceAll(",",""));s(a.toLocaleString()),(isNaN(a)||0===a)&&s("")},handleDeleteClick=e=>{i.splice(e,1),handleChange("tag",i)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:x().inputContainer,children:[o.jsx("p",{className:x().inputTitle,children:"상품명"}),o.jsx("input",{name:"title",type:"text",placeholder:"상품명을 입력해주세요",onChange:handleInputChange})]}),(0,o.jsxs)("div",{className:x().inputContainer,children:[o.jsx("p",{className:x().inputTitle,children:"상품 소개"}),o.jsx("textarea",{name:"description",placeholder:"상품 소개를 입력해주세요",onChange:handleInputChange})]}),(0,o.jsxs)("div",{className:x().inputContainer,children:[o.jsx("p",{className:x().inputTitle,children:"판매가격"}),o.jsx("input",{type:"text",name:"price",placeholder:"판매 가격을 입력해주세요",value:r,maxLength:20,onChange:e=>{changeEnteredNum(e)},ref:c})]}),(0,o.jsxs)("div",{className:x().inputContainer,children:[o.jsx("p",{className:x().inputTitle,children:"태그"}),o.jsx("input",{name:"tag",type:"text",placeholder:"태그를 입력해주세요",onChange:e=>{a(e.target.value)},onKeyDown:e=>{e.nativeEvent.isComposing||(/[ \{\}\[\]\/?.,;:|\)*~`!^\+┼<>@\#$%&\'\"\\\(\=]/gi.test(e.key)&&e.preventDefault(),"Enter"===e.key&&(""===e.target.value?e.preventDefault():(handleChange("tag",i),i.push(t),e.target.value="")))}}),o.jsx("ul",{className:x().tagContainer,children:i&&i.map((e,t)=>(0,o.jsxs)("li",{children:[(0,o.jsxs)("p",{className:x().tagText,children:["#",e]}),o.jsx("div",{className:x().circle,onClick:()=>handleDeleteClick(t),children:o.jsx(cancel,{})})]},t))})]})]})};function upload_extends(){return(upload_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(null,arguments)}let upload=function(e){return h.createElement("svg",upload_extends({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),n||(n=h.createElement("path",{stroke:"#9CA3AF",strokeLinecap:"round",strokeWidth:4,d:"M10 24h28M24 38V10"})))};var v=a(5675),j=a.n(v);let additem_ImgPreview=function({preview:e,handleDeleteClick:t}){return(0,o.jsxs)(o.Fragment,{children:[o.jsx(j(),{src:e,alt:"상품 이미지 미리보기",fill:!0}),o.jsx("div",{className:x().circle,onClick:t,children:o.jsx(cancel,{})})]})},additem_ChooseImgFile=function({imgFile:e,setImgFile:t}){let[a,i]=(0,h.useState)(""),[n,r]=(0,h.useState)(!1),s=(0,h.useRef)(null);return(0,h.useEffect)(()=>{if(!e)return;let t=URL.createObjectURL(e);i(t)},[e]),(0,o.jsxs)("div",{className:`${x().inputContainer} ${x().fileBox}`,children:[o.jsx("p",{className:x().inputTitle,children:"상품 이미지"}),(0,o.jsxs)("div",{className:x().previewContainer,children:[(0,o.jsxs)("div",{className:x().coverTile,children:[o.jsx("label",{htmlFor:"imgUpload",children:(0,o.jsxs)("div",{className:x().cover,children:[o.jsx(upload,{}),o.jsx("p",{className:x().imgUpload,children:"이미지 등록"})]})}),o.jsx("input",{id:"imgUpload",name:"imgFile",type:"file",className:x().btnImgUpload,accept:".jpg, .png",onChange:e=>{let a=e?.target.files[0];t(a),e.target.value=""},ref:s,onClick:t=>{e?(t.preventDefault(),r(!0)):r(!1)}})]}),a&&o.jsx("div",{className:`${x().coverTile} ${x().thumbnail}`,children:o.jsx(additem_ImgPreview,{preview:a,handleDeleteClick:()=>{r(!1),t(null),i("")}})})]}),n?o.jsx("p",{className:x().warnMessage,children:"*이미지 등록은 최대 1개까지 가능합니다."}):""]})},additem_UploadForm=function(){let[e,t]=(0,h.useState)({title:"",description:"",price:0,tag:[]}),[a,i]=(0,h.useState)(null),[n,r]=(0,h.useState)(!0),handleSubmit=async t=>{t.preventDefault();let a=new FormData;a.append("title",e.title),a.append("description",e.description),a.append("price",e.price),a.append("tag",e.tag)};return(0,h.useEffect)(()=>{""!==e.title&&""!==e.description&&Number(e.price)>0&&e.tag.length>0?r(!1):r(!0)},[e]),o.jsx("div",{className:x().pagiContainer,children:(0,o.jsxs)("form",{onSubmit:handleSubmit,children:[(0,o.jsxs)("div",{className:x().submitContainer,children:[o.jsx("p",{className:x().submitTitle,children:"상품 등록하기"}),o.jsx("button",{type:"button",className:x().btnSubmit,disabled:!!n,children:"등록"})]}),o.jsx(additem_ChooseImgFile,{imgFile:a,setImgFile:i}),o.jsx(additem_InputContainer,{setValues:t})]})})},additem=function(){return(0,o.jsxs)(o.Fragment,{children:[o.jsx(m(),{children:o.jsx("title",{children:"상품 등록 - 판다마켓"})}),o.jsx(g.Z,{}),o.jsx(additem_UploadForm,{})]})},b=(0,d.l)(r,"default"),f=(0,d.l)(r,"getStaticProps"),C=(0,d.l)(r,"getStaticPaths"),S=(0,d.l)(r,"getServerSideProps"),N=(0,d.l)(r,"config"),w=(0,d.l)(r,"reportWebVitals"),P=(0,d.l)(r,"unstable_getStaticProps"),k=(0,d.l)(r,"unstable_getStaticPaths"),E=(0,d.l)(r,"unstable_getStaticParams"),T=(0,d.l)(r,"unstable_getServerProps"),y=(0,d.l)(r,"unstable_getServerSideProps"),U=new s.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/items/additem",pathname:"/items/additem",bundlePath:"",filename:""},components:{App:u.default,Document:c.default},userland:r})},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[761,163,859,450,201,61,822,31,824],()=>__webpack_exec__(6712));module.exports=a})();